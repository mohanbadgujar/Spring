package com.bridgelabz.controller;

import java.sql.Date;
import java.util.Scanner;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.bridgelabz.dao.UserDao;
import com.bridgelabz.model.User;
	
public class App {

	public static void main(String args[])
	{
		
		ApplicationContext context = new ClassPathXmlApplicationContext("Spring-Module.xml");

		UserDao userDao = (UserDao) context.getBean("userDAO");

		Scanner sc = new Scanner(System.in);

		while (true) {

			System.out.println("Select your choice=");
			System.out.println("1.Insert\n2.Delete\n3.Display\n4.Update\n5.Exit");
			int choice = sc.nextInt();

			switch (choice) {
			case 1:
				@SuppressWarnings("deprecation")
				Date date = new Date(10, 11, 1993);
			
				User user = new User("mohan","mohanba@gma.co","mohan","mohan","9595682995",date,"Male");
				userDao.insert(user);
				System.out.println("Data inserted Successfully");
				break;
			case 2:
				
				System.out.println("Enter id number for which you want to delete data=");
				int id = sc.nextInt();
				userDao.delete(id);
				System.out.println("Data Deleted Successfully");
				break;
			case 3:
				System.out.println("Your Data");
				userDao.display();
				break;
			case 4:
				
				
				System.out.println("Enter what you want to change name\nemail\nmobile=");
				String value = sc.next();
				
				System.out.println("Enter id for which you want change=");
				int id1 =sc.nextInt();
				
				userDao.update(value,id1);
				System.out.println("Data Updated Successfully");
				break;
			default:
				System.out.println("You are out Successfully");
				System.exit(0);
				break;
			}
		}
	}
}
